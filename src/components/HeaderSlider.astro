---
const { content } = Astro.props;
---
    
<!-- HERO / SLIDER -->
<section class="slider-zoom overlay-dots hero">
  <div class="zs-slideshow" aria-hidden="true">
    <div class="zs-slide" style="background-image:url('/images/stock-angry-_-kat-_ZpYx5B8xic-unsplash.jpg')"></div>
    <div class="zs-slide" style="background-image:url('/images/stock-arun-k-XYyWvaW4gys-unsplash.jpg')"></div>
    <div class="zs-slide active" style="background-image:url('/images/stock-ishak-JLOyewYb1Sk-unsplash.jpg')"></div>
    <div class="zs-slide" style="background-image:url('/images/stock-thisisengineering-_PdoBI2XhkY-unsplash.jpg')"></div>
  </div>

  <div class="ltx-zs-slider-wrapper container">
    <div class="hero-content">
      <h1><Fragment set:html={content.title} /></h1>
      <p>{content.description}</p>
      <div class="hero-cta">
        {content.buttons && content.buttons.map((button) => ( 
          <a class={`btn ${button.style}`} href={button.href}>{button.text}</a>

        ))}
      </div>
    </div>
  </div>

  <div class="zs-arrows" aria-hidden="false">
    <div class="arrow-left" role="button" aria-label="Previous">&#10094;</div>
    <div class="arrow-right" role="button" aria-label="Next">&#10095;</div>
  </div>

  <div class="dots" style="z-index:6;position:absolute;left:50%;transform:translateX(-50%);bottom:14px">
    <div class="dot" data-index="0"></div>
    <div class="dot" data-index="1"></div>
    <div class="dot active" data-index="2"></div>
    <div class="dot" data-index="3"></div>
  </div>
</section>

<style>
  *,*::before,*::after{box-sizing:border-box}
  /* html,body{height:100%} */
  /* body{margin:0;font-family: "Helvetica Neue", Arial, sans-serif;color:#222;background:#fff;line-height:1.45;-webkit-font-smoothing:antialiased} */
  /* img{max-width:100%;height:auto;display:block} */
  a{color:inherit;text-decoration:none}
  .container{max-width:1200px;margin:0 auto;padding:0 18px}

  .header-wrapper{position:relative;z-index:50}
  .navbar{display:flex;align-items:center;justify-content:space-between;padding:18px 0;position:relative}
  .navbar .navbar-logo img{height:44px;display:block}
  .nav{display:flex;gap:22px;align-items:center;margin:0}
  .nav li{list-style:none}
  .nav li a{display:inline-block;padding:8px 6px;color:#fff;font-weight:600;opacity:.95}
  .nav li a:hover{opacity:1}
  
  @media (max-width:768px){ .nav{display:none} }

  /* HERO / SLIDER */
  .hero{margin:0;font-family: "Helvetica Neue", Arial, sans-serif;color:#222;background:#fff;line-height:1.45;-webkit-font-smoothing:antialiased}
  .slider-zoom{position:relative;min-height:620px;display:flex;align-items:center;justify-content:center;overflow:hidden}
  .zs-slideshow{position:absolute;inset:0;height:100%;width:100%;z-index:0}
  .zs-slide{position:absolute;inset:0;background-size:cover;background-position:center center;opacity:0;transform:scale(1);transition:transform 20s ease-out,opacity .9s ease;will-change:transform,opacity}
  .zs-slide.active{opacity:1;z-index:1;transform:scale(1.12)}
  /* dark overlay for better text contrast */
  .slider-zoom::before{content:"";position:absolute;inset:0;background:linear-gradient(rgba(0,0,0,.45), rgba(0,0,0,.45));z-index:0}

  /* slider content */
  .ltx-zs-slider-wrapper{position:relative;z-index:2;display:flex;align-items:center;justify-content:center;min-height:520px;padding:64px 18px}
  .hero-content{max-width:64rem;text-align:center;color:#fff}
  .hero-content h1{font-size:3rem;line-height:1.02;margin-bottom:12px;font-weight:800}
  .hero-content h1 span{color:#ffd66a} /* accent from theme */
  .hero-content p{max-width:680px;margin:0 auto 24px;color:rgba(255,255,255,.95);font-size:1.05rem}

  /* Buttons around hero */
  .btn{display:inline-block;padding:12px 20px;border-radius:4px;font-weight:700;cursor:pointer;border:0}
  .btn-main{background:#fff;color:#111;margin-right:8px;box-shadow:0 6px 18px rgba(0,0,0,.16);border-radius:1.5rem;}
  .btn-main:hover{transform:translateY(-2px)}
  .btn-second{background:transparent;color:#fff;border:2px solid rgba(255,255,255,.85);border-radius:1.5rem;}
  .btn-second:hover{background:rgba(255,255,255,.12)}

  /* slider arrows */
  .zs-arrows{position:absolute;left:0;right:0;top:50%;transform:translateY(-50%);z-index:5;pointer-events:none}
  .zs-arrows .arrow-left, .zs-arrows .arrow-right{
    pointer-events:auto;
    width:44px;height:44px;border-radius:50%;display:inline-flex;align-items:center;justify-content:center;background:rgba(0,0,0,.45);color:#fff;margin:0 14px;cursor:pointer;backdrop-filter: blur(2px)
  }
  .zs-arrows .arrow-left{position:absolute;left:18px}
  .zs-arrows .arrow-right{position:absolute;right:18px}

  /* dots (overlay-dots) */
  .overlay-dots .dots{position:absolute;left:50%;transform:translateX(-50%);bottom:18px;z-index:6;display:flex;gap:8px}
  .overlay-dots .dot{width:8px;height:8px;border-radius:50%;background:rgba(255,255,255,.45);cursor:pointer}
  .overlay-dots .dot.active{background:#ffd66a}


  /* small screens */
  @media (max-width:900px){
    .hero-content h1{font-size:2.2rem}
    .ltx-zs-slider-wrapper{padding:36px 12px}
    .services-sc{gap:14px}
  }
  @media (max-width:600px){
    .hero-content h1{font-size:1.8rem}
    .btn-main{width:100%;display:block;margin:0 0 10px}
    .btn-second{width:100%;display:block}
    .services-sc .service{width:100%}
    .header-wrapper{position:relative}
  }

  /* small fade-up for headings */
  @keyframes fadeInUp{from{opacity:0;transform:translateY(8px)}to{opacity:1;transform:none}}
  .hero-content h1,.hero-content p,.hero-content .btn{animation:fadeInUp .8s ease both}
</style>

<script>
  (function(){
    const slides = Array.from(document.querySelectorAll('.zs-slide'));
    const dots = Array.from(document.querySelectorAll('.dot'));
    const prev = document.querySelector('.arrow-left');
    const next = document.querySelector('.arrow-right');
    let idx = slides.findIndex(s=>s.classList.contains('active'));
    if(idx < 0) idx = 0;

    function show(i){
      slides.forEach((s,ii)=> {
        s.classList.toggle('active', ii===i);
      });
      dots.forEach((d,ii)=> d.classList.toggle('active', ii===i));
      idx = i;
    }

    function nextSlide(){ show((idx+1)%slides.length) }
    function prevSlide(){ show((idx-1+slides.length)%slides.length) }

    let auto = setInterval(nextSlide,4500);
    // pause on hover
    const hero = document.querySelector('.slider-zoom');
    hero.addEventListener('mouseenter', ()=> clearInterval(auto));
    hero.addEventListener('mouseleave', ()=> auto = setInterval(nextSlide,4500));

    if(next) next.addEventListener('click', ()=> { nextSlide(); });
    if(prev) prev.addEventListener('click', ()=> { prevSlide(); });

    dots.forEach(d => d.addEventListener('click', e => show(Number(d.dataset.index))));
  })();
</script>
